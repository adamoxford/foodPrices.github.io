<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>CPI Scrollytelling</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            background-color: #f0f0f0;
            color: #333;
        }
        #scrolly {
            position: relative;
        }
        #scrolly > article {
            position: relative;
            z-index: 10;
        }
        #scrolly > figure {
            position: sticky;
            top: 15vh;
            height: 70vh;
            width: 100%;
            margin: 0;
            z-index: 1;
        }

        /* Updated for the <img> tag */
        #vis {
            /* This ensures the image scales proportionally */
            max-width: 90%;
            max-height: 100%;
            margin: 0 auto;
            display: block;
            object-fit: contain; /* This is the key property */
            
            background-color: white; 
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border-radius: 8px;
        }

        .step {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .step p {
            max-width: 500px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            font-size: 1.1rem;
            line-height: 1.6;
        }
    </style>
    
    </head>
<body>
    <section id="scrolly">
        
        <figure>
            <img id="vis" src="chart_state_1.svg" alt="CPI Inflation Chart">
        </figure>

        <article>
            <div class="step" data-step="0">
                <p>South Africa's inflation has seen significant shifts since 2021. This chart shows the quarterly year-on-year CPI for nine key indicators. By default, the main <strong>"All Items"</strong> CPI and overall <strong>"Food"</strong> inflation are highlighted.</p>
            </div>
            <div class="step" data-step="1">
                <p>In <strong>December 2021</strong>, South Africa recorded a 5.5% year-on-year increase in food inflation. This was driven by above-inflation rises for <strong>Meat</strong> and <strong>Oils and fats</strong>.</p>
                <p>As you scroll, the chart highlights these two specific categories, showing how they were outpacing the general food inflation basket at that time.</p>
            </div>
            <div class="step" data-step="0">
                <p>Scrolling past the specific events, we can again see the overall trend as we return to the initial view.</p>
            </div>
        </article>
        
    </section>

    <script src="scrolly.js"></script>
</body>
</html>
